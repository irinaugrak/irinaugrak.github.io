'use strict';let contactsBtn=document.querySelector('.contacts-btn'),modalWrite=document.querySelector('.modal-write'),modalWriteCloseBtn=document.querySelector('.modal-write .modal-close'),modalWriteFio=document.querySelector('.modal-write .modal-write-fio'),modalWriteEmail=document.querySelector('.modal-write .modal-write-email'),modalWriteText=document.querySelector('.modal-write .modal-write-text'),modalWriteForm=document.querySelector('.modal-write-form'),openMap=document.querySelector('.contacts__map'),modalMap=document.querySelector('.modal-map'),modalMapClose=document.querySelector('.modal-map .modal-close'),isStorageSupport=!0,storageName='',storageEmail='';try{storageName=localStorage.getItem('fio'),storageEmail=localStorage.getItem('email')}catch(a){isStorageSupport=!1}contactsBtn.addEventListener('click',function(a){a.preventDefault(),modalWrite.classList.add('show'),storageName&&(modalWriteFio.value=storageName),storageEmail&&(modalWriteEmail.value=storageEmail),storageName?storageEmail?modalWriteText.focus():modalWriteEmail.focus():modalWriteFio.focus()}),modalWriteCloseBtn.addEventListener('click',function(){modalWrite.classList.remove('show'),modalWrite.classList.remove('form-error')}),window.addEventListener('keydown',function(a){modalWrite.classList.contains('show')&&27===a.keyCode&&(a.preventDefault(),modalWrite.classList.remove('show'),modalWrite.classList.remove('form-error')),modalMap.classList.contains('show')&&27===a.keyCode&&(a.preventDefault(),modalMap.classList.remove('show'))}),modalWriteForm.addEventListener('submit',function(a){modalWriteFio.value&&modalWriteEmail.value?(isStorageSupport&&(localStorage.setItem('fio',modalWriteFio.value),localStorage.setItem('email',modalWriteEmail.value),modalWriteFio.classList.remove('modal-error'),modalWriteEmail.classList.remove('modal-error')),modalWrite.classList.remove('form-error')):(modalWrite.classList.remove('form-error'),void modalWrite.offsetWidth,modalWrite.classList.add('form-error'),a.preventDefault(),modalWriteFio.value?modalWriteFio.classList.remove('modal-error'):modalWriteFio.classList.add('modal-error'),modalWriteEmail.value?modalWriteEmail.classList.remove('modal-error'):modalWriteEmail.classList.add('modal-error'))}),openMap.addEventListener('click',function(a){a.preventDefault(),modalMap.classList.add('show')}),modalMapClose.addEventListener('click',function(a){a.preventDefault(),modalMap.classList.remove('show')});
